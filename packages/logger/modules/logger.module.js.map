{"version":3,"sources":["modules/logger.module.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,uCAAgE;AAChE,mDAAuD;AACvD,iDAAmD;AACnD,0CAAkC;AAClC,4CAA4C;AAC5C,0CAAyC;AACzC,2CAA2E;AAC3E,uCAAyC;AACzC,6CAAgD;AAiBhD,IAAa,YAAY,GAAzB;IACI,YACqB,SAAoB,EACpB,OAAmB,EACnB,KAAe;QAFf,cAAS,GAAT,SAAS,CAAW;QACpB,YAAO,GAAP,OAAO,CAAY;QACnB,UAAK,GAAL,KAAK,CAAU;IAEpC,CAAC;IAED,YAAY;QACR,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC1C,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,0BAAe,CAAC,CAAC;QACvC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACxC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,wBAAa,CAAC,CAAC;IACvC,CAAC;CACJ,CAAA;AAdY,YAAY;IAfxB,eAAM,CAAC;QACJ,UAAU,EAAE;YACR,GAAG,0BAAe;YAClB,GAAG,wBAAa;YAChB,wBAAY;YACZ,qBAAU;SACb;QACD,OAAO,EAAE;YACL,qBAAU;SACb;QACD,OAAO,EAAE;YACL,uBAAa,CAAC,UAAU,CAAC,CAAC,cAAG,CAAC,CAAC;YAC/B,iBAAU;SACb;KACJ,CAAC;qCAGkC,gBAAS;QACX,iBAAU;QACZ,eAAQ;GAJ3B,YAAY,CAcxB;AAdY,oCAAY","file":"logger.module.js","sourcesContent":["import { CommandBus, CQRSModule, EventBus } from \"@nestjs/cqrs\";\nimport { commandHandlers } from \"../commands/handlers\";\nimport { eventHandlers } from \"../events/handlers\";\nimport { Log } from \"../entities\";\nimport { LogResolvers } from \"../resolvers\";\nimport { LogService } from \"../services\";\nimport { MiddlewaresConsumer, Module, OnModuleInit } from \"@nestjs/common\";\nimport { ModuleRef } from \"@nestjs/core\";\nimport { TypeOrmModule } from \"@nestjs/typeorm\";\n\n@Module({\n    components: [\n        ...commandHandlers,\n        ...eventHandlers,\n        LogResolvers,\n        LogService,\n    ],\n    exports: [\n        LogService,\n    ],\n    imports: [\n        TypeOrmModule.forFeature([Log]),\n        CQRSModule,\n    ],\n})\nexport class LoggerModule implements OnModuleInit {\n    constructor(\n        private readonly moduleRef: ModuleRef,\n        private readonly command: CommandBus,\n        private readonly event: EventBus,\n    ) {\n    }\n\n    onModuleInit() {\n        this.command.setModuleRef(this.moduleRef);\n        this.command.register(commandHandlers);\n        this.event.setModuleRef(this.moduleRef);\n        this.event.register(eventHandlers);\n    }\n}\n"]}